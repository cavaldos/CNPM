

Enum ComplexityLevel {
  Easy
  Medium
  Hard
}
Enum Role {
  Student
  Instructor
  Admin
}
Enum InvoiceStatus{
  Paid
  UnPaid
}

Enum StatusNotify{
  Read
  UnRead
}


Table Lessons {
  LessonID integer [primary key , increment]
  Title varchar(255)
  Duration integer
  ComplexityLevel ComplexityLevel
  CreatedTime datetime
  UpdatedTime datetime
  LessonType varchar
  Ordinal integer
  CourseID integer [ref:> Course.CourseID]
}


Table LessonVideo {
  LessonVideoID integer [primary key , increment]
  URL varchar(255)
  LessonID integer [ref: > Lessons.LessonID, unique]
}
Table LessonDocument {
  LessonDocumentID integer [primary key , increment]
  LessonID integer [ref: > Lessons.LessonID, unique]
  Content nvarchar(max)
}


Table User {
  UserID integer [primary key , increment]
  UserName varchar(50) [unique]
  Email varchar(255)
  FullName varchar(255)
  Role Role
  CreatedTime datetime
  UpdateTime datetime
}

Table UserAuthProvider {
  AuthProviderID integer [primary key, increment]
  UserID integer [ref: > User.UserID, not null]
  ProviderName varchar(20) [not null] 
  ProviderUserID varchar(255) [not null] 
  AccessToken varchar(512)
  RefreshToken varchar(512)
  ExpiryDate datetime
  CreatedTime datetime
}

Table Course {
  CourseID integer [primary key , increment]
  Title varchar(255)
  Topic varchar(100)
  Description nvarchar(max)
  Image varchar(200)
  Price float
  CreateTime datetime
  IsHiden bit
  InstructorID integer [ref: > User.UserID]
}

Table Review {
  ReviewID integer [primary key , increment]
  Comment nvarchar(250) [not null]
  Rating float [not null]
  CreatedDate datetime
  StudentID integer [ref: >  User.UserID]
  CourseID integer [ref: > Course.CourseID]
}

Table Notify {
  NotifyID integer [primary key , increment]
  CreatedDate datetime [not null]
  MessageNotify nvarchar(500) 
  StatusNotify StatusNotify 
  ReceiveUserID integer [ref: > User.UserID, not null]
}

Enum EnrollmentStatus{
  Enrolled
  Completed
  Dropped
}

Table Enrollment{
  EnrollmentID integer [primary key , increment]
  StudentID integer [ref: > User.UserID, not null]
  CourseID integer [ref: > Course.CourseID, not null]
  EnrollmentStatus EnrollmentStatus
  EnrollDate datetime
}

Enum ProcessStatus {
  NotStarted
  InProcess
  Done
}
Table LearnProgress {
  ProgressID integer [primary key, increment]
  StudentID integer [ref: > User.UserID, not null]
  LessonID integer [ref: > Lessons.LessonID, not null]
  ProcessStatus ProcessStatus
  StartTime datetime
  CompletionTime datetime
}

Table ForumMessage{
  ForumMessageID integer [primary key, increment]
  Content nvarchar(max)
  CreateAt datetime
  CourseID integer [ref: > Course.CourseID]
  UserID integer [ref: > User.UserID]
}
